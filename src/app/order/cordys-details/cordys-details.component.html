<!--
<popover-content #myPopover 
                title="Popover title" 
                placement="bottom"
                [animation]="true" 
                [closeOnClickOutside]="true" >
    <b>Very</b> <span style="color: #C21F39">{{order.id}}</span> <span style="color: #00b3ee">Reusable</span>
    <b><i><span style="color: #ffc520">Popover With</span></i></b> <small>Html support</small>.
</popover-content>

<popover-content #functionalProductDetails
        title="Functional Product Details" 
        placement="bottom" [animation]="true" [closeOnClickOutside]="true">
  
  <app-spinner [visible]="isCordysDetailsLoading"></app-spinner>      
	

	<div class="container-fluid row" *ngIf="errorMessage">
		<div class="col-sm-12">
			<span style="font-weight: bold;" class="error">Error: {{errorMessage}} </span>
		</div>
	</div>
	
	<div *ngIf="order.cordysOrderDetails?.functionalProducts?.length > 0">
		<li>Com OrderId: {{order.cordysOrderDetails?.functionalProducts[0].comOrderId}}</li>
		<table class="smallFont">
			<tr *ngFor="let functionalProduct of order.cordysOrderDetails?.functionalProducts">
				<td>{{functionalProduct?.functionalProductType}}</td>
				<td><span class="label status success">{{functionalProduct?.functionalProductStatus}}</span></td>
				<td><span class="glyphicon glyphicon-info-sign" aria-hidden="true" (click)="getInputXml(functionalProduct?.sniInputXml)"
						defaultOverlayTarget></span></td>
			</tr>

		</table>
    
	</div>
</popover-content>

<span [popover]="functionalProductDetails" aria-hidden="true" data-toggle="dropdown">
<i class="fa fa-chevron-circle-down" style="color:#79589F"
(click)="getOrder()"></i>
</span>


<table >
			<tr>
				<td>Product 1</td>
				<td><span class="label status success">p1</span></td>
				<td><span class="glyphicon glyphicon-info-sign" aria-hidden="true" (click)="getInputXml(functionalProduct?.sniInputXml)"
						defaultOverlayTarget></span></td>
			</tr>
      
      <tr>
				<td>Product 1</td>
				<td><span class="label status success">p1</span></td>
				<td><span class="glyphicon glyphicon-info-sign" aria-hidden="true" (click)="getInputXml(functionalProduct?.sniInputXml)"
						defaultOverlayTarget></span></td>
			</tr>
      <tr>
				<td>Product 1</td>
				<td><span class="label status success">p1</span></td>
				<td><span class="glyphicon glyphicon-info-sign" aria-hidden="true" (click)="getInputXml(functionalProduct?.sniInputXml)"
						defaultOverlayTarget></span></td>
			</tr>
      <tr>
				<td>Product 1</td>
				<td><span class="label status success">p1</span></td>
				<td><span class="glyphicon glyphicon-info-sign" aria-hidden="true" (click)="getInputXml(functionalProduct?.sniInputXml)"
						defaultOverlayTarget></span></td>
			</tr>
      <tr>
				<td>Product 1</td>
				<td><span class="label status success">p1</span></td>
				<td><span class="glyphicon glyphicon-info-sign" aria-hidden="true" (click)="getInputXml(functionalProduct?.sniInputXml)"
						defaultOverlayTarget></span></td>
			</tr>

</table>
<app-spinner [visible]="order.isCordysDetailsLoading"></app-spinner>
	<span class="glyphicon glyphicon-info-sign" aria-hidden="true" (click)="getInputXml(functionalProduct?.sniInputXml)"
						defaultOverlayTarget></span>
-->


<div>

	<app-spinner [visible]="!order.isCordysDetailsLoaded"></app-spinner>
	
	<table class="table table-striped table-condensed">		
		<thead>
			
			<tr>
				<th class="col-md-1">
					Functional Product
				</th>
				<th class="col-md-1">
					Status
				</th>
				<th class="col-md-1">
					SNI Input
				</th>
			</tr>
		</thead>	
		<tbody>		
			<tr *ngFor="let functionalProduct of order.cordysOrderDetails?.functionalProducts">
				<td>{{functionalProduct?.functionalProductType}}</td>
				<td style="font-size:90%"><span class="label status "[ngClass]="getOrderStatusCssForCordysFunctionalProducts(functionalProduct?.functionalProductStatus)">{{functionalProduct?.functionalProductStatus}}</span></td>
				<td>
					<span>				
					 <i class="fa fa-file-excel-o" style="color:#79589F" 
					 (click)="showSNIInputXml(functionalProduct?.sniInputXml)" aria-hidden="true"></i>					 
					</span>	
				</td>				
			</tr>
		</tbody>
	</table>
</div>

<modal #sniInputModal>
    <modal-header [show-close]="true">
        <h4 class="modal-title">SNI Input for Functional Product</h4>
    </modal-header>
    <modal-body>
	   {{sniInputXml}}
    </modal-body>
    <modal-footer> 
		<button type="button" class="btn btn-primary" (click)="modal.close()">Close</button>
	</modal-footer>
</modal>